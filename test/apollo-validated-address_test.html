<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>apollo-validated-address test</title>

    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    <script src="../../web-component-tester/browser.js"></script>

    <link rel="import" href="../apollo-validated-address.html">
  </head>
  <body>
    <test-fixture id="basic">
      <template>
        <apollo-validated-address></apollo-validated-address>
      </template>
    </test-fixture>

    <script>
      suite('apollo-validated-address', function() {
        var el;
        setup(function() {
          el = fixture('basic');

          stub('apollo-validated-address', {
            _searchSelected: function() {
              alert("here");
            }
          });

        });

        test('instantiating the element works', function() {
          assert.equal(el.is, 'apollo-validated-address');
        });

        test('find apollo countries has initial value', function() {
          assert.equal(el.countrySelection, 'GBR');
        });

        test('enter 690 into search box', function() {
          console.log("here is my log");
          var input = document.getElementById('input-remote');
          input.value = '690';
          debugger
          assert.equal(input.is, 'paper-autocomplete');
//          assert.equal(el.query, 'addressLine1: 690');
        });

      });
    </script>
  </body>
</html>
